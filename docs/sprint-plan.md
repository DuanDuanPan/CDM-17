---
title: Sprint Planning — 脑图驱动协同研发平台（首个实现周期）
date: 2025-12-12
owner: Enjoyjavapan
status: draft
scope: 首个 sprint，聚焦基础可用 + 性能/安全基线支撑
---

## 目标
- 交付一个可用的桌面端脑图协同 MVP，满足核心路径与基础安全/性能。
- 锁定未决项（访问记录 schema、分享策略、遮罩冲突处理、模板版本、压测脚本）。

## 范围（Sprint 1）
- 必做：R1–R8 基础；R5（权限/水印）；R7（通知节流）；R18 基础自由布局；R20 基础协同可见性；R23 快速上手；R21 导出基础（PDF/PNG，默认水印）；访问记录管线写入（基础）。
- 拉通：审批驱动执行（最小链路）、任务依赖 FS/SS。
- 配套：性能埋点（前端 FPS/交互、后端队列）、审计写入、分享链路骨架（密级校验+默认水印，失效按钮）。

## 不在本 sprint
- 深度模板版本回滚；导出高级遮罩策略；跨图血缘可视化；国产化/离线/IM Webhook。

## 任务拆分（建议序列）
1) 基础数据与权限
   - 图模型/版本/快照最小实现
   - 权限网关 + 水印默认开
   - 审计写入管线
2) 画布与视图
   - 脑图绘图（树/逻辑）+ 自由布局基础（吸附/网格开关）
   - 下钻/回链
   - 粘贴成树 + /命令面板
3) 任务与审批
   - 节点→任务映射 + FS/SS
   - 审批通过推演下一任务（简版）
4) 协同与通知
   - 实时光标/选中
   - 评论线程 + @mention → 通知节流
5) 导出与分享
   - 导出 PDF/PNG（默认水印，范围全图/子树）
   - 分享链接（只读），校验密级，默认水印，失效按钮
   - 访问记录写入（查看/分享）
6) 性能与观测
   - 1k 节点基线数据集
   - 前端埋点/后端监控仪表

## 验收准则（Sprint 1）
- 功能：上述任务完成且无阻塞缺口；审批推演链路可用；分享默认水印且可失效。
- 性能：1k 节点加载/缩放/折叠 P95<100ms（预览环境）；协同<200ms；导出中等规模 P95<3s。
- 安全：密级/字段/附件权限基本生效；水印默认开启；超密级分享被阻断；审计写入成功率>99%。

## 依赖/风险
- 访问记录 schema/索引未锁定（需在 Sprint 前半确定）。
- 导出/审计可靠性依赖队列与重试配置。
- 大图性能依赖绘图优化与懒加载分片。

## 后续 Sprint 提前占位
- Sprint 2：模板/片段版本回滚；导出遮罩策略完善；访问记录查询 UI/导出；血缘可视化基础。
- Sprint 3：高级分享策略（有效期/权限变更联动）、跨图血缘、性能强化与压测自动化。
